<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>JavaScript Code Challenge</title>
  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <style>
    input {
      font-size: 2rem;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="row" id="image_content">
      <div class="card col-md-4"></div>
      <div id="image_card" class="card col-md-4">
          <img id="image" data-id/>
          <h4 id="name"></h4>
          <span>Likes:
            <span id="likes">0</span>
          </span>
          <button id="like_button">Like</button>
          <form id="comment_form">
            <input id="comment_input" type="text" name="comment" placeholder="Add Comment"/>
            <input type="submit" value="Submit"/>
          </form>
          <ul id="comments">

          </ul>
      </div>
      <div class="card col-md-4"></div>
    </div>
  </div>
  <script type="text/javascript" src='src/Image.js'></script>
  <script type="text/javascript" src='src/Comment.js'></script>
  <script type="text/javascript" src='src/index.js'></script>
  <script type="text/javascript" charset="utf-8">
    $(function() {
      fetch('https://randopic.herokuapp.com/images/9')
      .then(res => res.json())
      .then(function(json) {
        var like_count = json["like_count"];
         $("#image_card").prepend(`<img src=${json["url"]} id="image">`);
         $("#name").html(`${json["name"]}`);
         $("#likes").html(`${like_count}`);
         $("#comments").append("<ul>");
         json["comments"].forEach(function(comment) {
           $("#comments").append(`<li>${comment["content"]}</li>`)
         });
         $("#like_button").on("click", function() {
          like_count++;
          $("#likes").html(`${like_count}`)
         });
      });
    });
  </script>
  </body>
</html>
